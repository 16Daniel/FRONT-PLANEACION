<h2 class="text-center mt-3">ARTÍCULOS CON ENVASE RETORNABLE</h2>

<div class="d-flex justify-content-start m-3">
<button class="btn bg-p-b p-3" (click)="showAgregar();"> <i class='bx bx-plus'></i> AGREGAR</button>
</div>

<div class="d-flex justify-content-center" *ngIf="loading">
  <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
</div>

<div class="m-3 bg-white shadow rounded-3 p-3">
    <table class="table table-bordered text-center">
        <thead>
          <tr>
            <th scope="col">RFC</th>
            <th scope="col">PROVEEDOR</th>
            <th scope="col">ARTICULO</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of arr_retornables">
            <td>{{item.rfc}}</td>
            <td>{{item.nomprov}}</td>
            <td>{{item.articulo}}</td>
            <td><button class="btn btn-danger" (click)="confirm1($event,item.id);"><i class='bx bx-trash bx-sm' ></i></button></td>
          </tr>

        </tbody>
      </table> 
</div>


<p-dialog header="AGREGAR ARTÍCULO" [(visible)]="modalagregar" [style]="{width: '75vw'}" [maximizable]="false" [modal]="true">
     
    <div class="row mb-4">
        <div class="col-6">
          <p class="mt-3 fw-bold" >PROVEDOR</p>
          <select class="form-select" [(ngModel)]="formProv" (change)="changeProv()">
            <input type="text">
              <option *ngFor="let item of catproveedores" [value]="item.codproveedor">{{item.codproveedor +' - '+item.nombre}}</option>
          </select>
        </div>
    
        <div class="col-6">
          <p class="mt-3 fw-bold" >ARTÍCULO</p>
    
          <select class="form-select" [(ngModel)]="formArt">
            <option *ngFor="let item of arr_articulos" [value]="item.cod">{{item.descripcion}}</option>
          </select>
        </div>
      
      </div>

      
    <div class="d-flex justify-content-end mt-3">
      <button class="btn bg-p-b p-3" (click)="save()"[disabled]="formProv == undefined || formArt == undefined">GUARDAR</button>
    </div>
    
  </p-dialog>


  <p-confirmDialog></p-confirmDialog>
<p-toast [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}" [showTransformOptions]="'translateY(100%)'" [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'" [showTransformOptions]="'translateX(100%)'"></p-toast>
